# Конфигурация Gemini Media MCP

import os
from dotenv import load_dotenv

# Загрузка переменных окружения из .env файла
load_dotenv()

# --- API Ключи ---
GEMINI_API_KEY: str | None = os.getenv("GEMINI_API_KEY")
if not GEMINI_API_KEY:
    raise ValueError("GEMINI_API_KEY не найден в переменных окружения. "
                     "Пожалуйста, создайте .env файл и добавьте GEMINI_API_KEY='ваш_ключ'")

# --- Модели Gemini ---
GEMINI_MODELS = [
    "gemini-2.5-flash",
    "gemini-2.5-pro",
]
DEFAULT_GEMINI_MODEL: str = GEMINI_MODELS[0]  # Используем flash по умолчанию

# --- Промпты для анализа изображений ---

# Стандартный системный промпт
DEFAULT_IMAGE_ANALYSIS_SYSTEM_PROMPT: str = """
Ты — эксперт по анализу изображений. Твоя задача — предоставлять точные и подробные описания изображений на основе запроса пользователя.

Ты должен ответить в следующем формате JSON:
```json
{
  "alt_text": "Краткое и информативное описание изображения, подходящее для альтернативного текста (accessibility).",
  "detailed_analysis": "Подробный анализ изображения, основанный на запросе пользователя. Опиши все значимые элементы, цвета, композицию, объекты и действия на изображении."
}
```

Убедись, что ответ валиден в формате JSON.
"""

# Технический промпт (например, для анализа с точки зрения дизайна, данных и т.д.)
TECHNICAL_IMAGE_ANALYSIS_SYSTEM_PROMPT: str = """
Ты — технический аналитик изображений. Проанализируй изображение с технической точки зрения: композиция, использование цвета, типографика (если есть), общая эстетика, потенциальные области применения и т.д.

Ответ в формате JSON:
```json
{
  "alt_text": "Краткое техническое описание изображения.",
  "detailed_analysis": "Детальный технический анализ, включая стилистические выборы, возможные инструменты создания, целевую аудиторию."
}
```

Убедись, что ответ валиден в формате JSON.
"""

# Сопоставление имен промптов и их содержимого
AVAILABLE_IMAGE_ANALYSIS_PROMPTS = {
    "default": DEFAULT_IMAGE_ANALYSIS_SYSTEM_PROMPT,
    "technical": TECHNICAL_IMAGE_ANALYSIS_SYSTEM_PROMPT,
}
